/**
 * @license Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */
!function(){function e(e,t,n){var i=e.join(" ");i=i.replace(/(,|>|\+|~)/g," "),i=i.replace(/\[[^\]]*/g,""),i=i.replace(/#[^\s]*/g,""),i=i.replace(/\:{1,2}[^\s]*/g,""),i=i.replace(/\s+/g," ");for(var a=i.split(" "),o=[],r=0;r<a.length;r++){var l=a[r];n.test(l)&&!t.test(l)&&-1==CKEDITOR.tools.indexOf(o,l)&&o.push(l)}return o}function t(t,n,i){var a,o=[],r=[];for(a=0;a<t.styleSheets.length;a++){var l=t.styleSheets[a],s=l.ownerNode||l.owningElement;if(!(s.getAttribute("data-cke-temp")||l.href&&"chrome://"==l.href.substr(0,9)))try{for(var c=l.cssRules||l.rules,d=0;d<c.length;d++)r.push(c[d].selectorText)}catch(u){}}var m=e(r,n,i);for(a=0;a<m.length;a++){var h=m[a].split("."),p=h[0].toLowerCase(),f=h[1];o.push({name:p+"."+f,element:p,attributes:{"class":f}})}return o}CKEDITOR.plugins.add("stylesheetparser",{init:function(e){e.filter.disable();var n;e.once("stylesSet",function(i){i.cancel(),e.once("contentDom",function(){e.getStylesSet(function(i){var a=e.config.stylesheetParser_skipSelectors||/(^body\.|^\.)/i,o=e.config.stylesheetParser_validSelectors||/\w+\.\w+/;n=i.concat(t(e.document.$,a,o)),e.getStylesSet=function(e){return n?e(n):void 0},e.fire("stylesSet",{styles:n})})})},null,null,1)}})}();