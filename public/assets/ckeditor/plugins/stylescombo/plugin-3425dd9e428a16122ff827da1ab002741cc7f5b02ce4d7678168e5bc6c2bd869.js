/**
 * @license Copyright (c) 2003-2013, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.html or http://ckeditor.com/license
 */
!function(){function e(e,t){var n=e.type,i=t.type;return n==i?0:n==CKEDITOR.STYLE_OBJECT?-1:i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?1:-1}CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",lang:"af,ar,bg,bn,bs,ca,cs,cy,da,de,el,en-au,en-ca,en-gb,en,eo,es,et,eu,fa,fi,fo,fr-ca,fr,gl,gu,he,hi,hr,hu,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt-br,pt,ro,ru,sk,sl,sr-latn,sr,sv,th,tr,ug,uk,vi,zh-cn,zh",init:function(t){function n(n){t.getStylesSet(function(i){if(!l.length){for(var o,s,c=0,d=i.length;d>c;c++){var u=i[c];t.blockless&&u.element in CKEDITOR.dtd.$block||(s=u.name,o=r[s]=new CKEDITOR.style(u),o._name=s,o._.enterMode=a.enterMode,l.push(o))}l.sort(e)}n&&n()})}var i,a=t.config,o=t.lang.stylescombo,r={},l=[];t.ui.addRichCombo("Styles",{label:o.label,title:o.panelTitle,toolbar:"styles,10",panel:{css:[CKEDITOR.skin.getPath("editor")].concat(a.contentsCss),multiSelect:!0,attributes:{"aria-label":o.panelTitle}},init:function(){i=this,n(function(){var e,t,n,a,r,s;for(r=0,s=l.length;s>r;r++)e=l[r],t=e._name,a=e.type,a!=n&&(i.startGroup(o["panelTitle"+String(a)]),n=a),i.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);i.commit()})},onClick:function(e){t.focus(),t.fire("saveSnapshot");var n=r[e],i=t.elementPath();t[n.checkActive(i)?"removeStyle":"applyStyle"](n),t.fire("saveSnapshot")},onRender:function(){t.on("selectionChange",function(e){for(var t,n=this.getValue(),i=e.data.path,a=i.elements,o=0,l=a.length;l>o;o++){t=a[o];for(var s in r)if(r[s].checkElementRemovable(t,!0))return void(s!=n&&this.setValue(s))}this.setValue("")},this)},onOpen:function(){var e=t.getSelection(),n=e.getSelectedElement(),i=t.elementPath(n),a=[0,0,0,0];this.showAll(),this.unmarkAll();for(var l in r){var s=r[l],c=s.type;c!=CKEDITOR.STYLE_BLOCK||i.isContextFor(s.element)?(s.checkActive(i)?this.mark(l):c!=CKEDITOR.STYLE_OBJECT||s.checkApplicable(i)||(this.hideItem(l),a[c]--),a[c]++):this.hideItem(l)}a[CKEDITOR.STYLE_BLOCK]||this.hideGroup(o["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),a[CKEDITOR.STYLE_INLINE]||this.hideGroup(o["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),a[CKEDITOR.STYLE_OBJECT]||this.hideGroup(o["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},reset:function(){i&&(delete i._.panel,delete i._.list,i._.committed=0,i._.items={},i._.state=CKEDITOR.TRISTATE_OFF),r={},l=[],n()}}),t.on("instanceReady",function(){n()})}})}();