!function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,n,a){return this.jsonMode?/^[\[,{]$/.test(t)||/^}/.test(n):";"==t&&a.lexical&&")"==a.lexical.type?!1:/^[;{}]$/.test(t)&&!/^;/.test(n)}});var e=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;CodeMirror.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(t,n,a,i){var o=!1;return"html"==this.configuration&&(o=i.context?e.test(i.context.tagName):!1),!o&&("tag"==t&&/>$/.test(n)&&i.context||/^</.test(a))}}),CodeMirror.defineExtension("commentRange",function(e,t,n){var a=this,i=CodeMirror.innerMode(a.getMode(),a.getTokenAt(t).state).mode;a.operation(function(){if(e)a.replaceRange(i.commentEnd,n),a.replaceRange(i.commentStart,t),t.line==n.line&&t.ch==n.ch&&a.setCursor(t.line,t.ch+i.commentStart.length);else{var o=a.getRange(t,n),r=o.indexOf(i.commentStart),l=o.lastIndexOf(i.commentEnd);r>-1&&l>-1&&l>r&&(o=o.substr(0,r)+o.substring(r+i.commentStart.length,l)+o.substr(l+i.commentEnd.length)),a.replaceRange(o,t,n)}})}),CodeMirror.defineExtension("autoIndentRange",function(e,t){var n=this;this.operation(function(){for(var a=e.line;a<=t.line;a++)n.indentLine(a,"smart")})}),CodeMirror.defineExtension("autoFormatRange",function(e,t){for(var n=this,a=n.getMode(),i=n.getRange(e,t).split("\n"),o=CodeMirror.copyState(a,n.getTokenAt(e).state),r=n.getOption("tabSize"),l="",s=0,d=0==e.ch,c=0;c<i.length;++c){for(var u=new CodeMirror.StringStream(i[c],r);!u.eol();){var p=CodeMirror.innerMode(a,o),m=a.token(u,o),h=u.current();u.start=u.pos,(!d||/\S/.test(h))&&(l+=h,d=!1),!d&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(m,h,u.string.slice(u.pos)||i[c+1]||"",p.state)&&(l+="\n",d=!0,++s)}!u.pos&&a.blankLine&&a.blankLine(o),!d&&c<i.length-1&&(l+="\n",d=!0,++s)}n.operation(function(){n.replaceRange(l,e,t);for(var a=e.line+1,i=e.line+s;i>=a;++a)n.indentLine(a,"smart");n.setSelection(e,n.getCursor(!1))})})}();