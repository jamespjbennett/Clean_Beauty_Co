!function(){function e(e,t,n){return e=e.getWrapperElement().appendChild(document.createElement("div")),e.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top",e.innerHTML=t,e}CodeMirror.defineExtension("openDialog",function(t,n,a){function i(){r||(r=!0,o.parentNode.removeChild(o))}var o=e(this,t,a&&a.bottom),r=!1,l=this,s=o.getElementsByTagName("input")[0];return s?(CodeMirror.on(s,"keydown",function(e){(13==e.keyCode||27==e.keyCode)&&(CodeMirror.e_stop(e),i(),l.focus(),13==e.keyCode&&n(s.value))}),a&&a.value&&(s.value=a.value),s.focus(),CodeMirror.on(s,"blur",i)):(t=o.getElementsByTagName("button")[0])&&(CodeMirror.on(t,"click",function(){i(),l.focus()}),t.focus(),CodeMirror.on(t,"blur",i)),i}),CodeMirror.defineExtension("openConfirm",function(t,n,a){function i(){r||(r=!0,o.parentNode.removeChild(o),l.focus())}var o=e(this,t,a&&a.bottom),t=o.getElementsByTagName("button"),r=!1,l=this,s=1;for(t[0].focus(),a=0;a<t.length;++a){var d=t[a];!function(e){CodeMirror.on(d,"click",function(t){CodeMirror.e_preventDefault(t),i(),e&&e(l)})}(n[a]),CodeMirror.on(d,"blur",function(){--s,setTimeout(function(){0>=s&&i()},200)}),CodeMirror.on(d,"focus",function(){++s})}})}();