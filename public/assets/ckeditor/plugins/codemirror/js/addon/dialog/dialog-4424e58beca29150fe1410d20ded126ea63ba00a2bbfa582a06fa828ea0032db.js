!function(){function e(e,t,n){return e=e.getWrapperElement().appendChild(document.createElement("div")),e.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top",e.innerHTML=t,e}CodeMirror.defineExtension("openDialog",function(t,n,i){function a(){r||(r=!0,o.parentNode.removeChild(o))}var o=e(this,t,i&&i.bottom),r=!1,l=this,s=o.getElementsByTagName("input")[0];return s?(CodeMirror.on(s,"keydown",function(e){(13==e.keyCode||27==e.keyCode)&&(CodeMirror.e_stop(e),a(),l.focus(),13==e.keyCode&&n(s.value))}),i&&i.value&&(s.value=i.value),s.focus(),CodeMirror.on(s,"blur",a)):(t=o.getElementsByTagName("button")[0])&&(CodeMirror.on(t,"click",function(){a(),l.focus()}),t.focus(),CodeMirror.on(t,"blur",a)),a}),CodeMirror.defineExtension("openConfirm",function(t,n,i){function a(){r||(r=!0,o.parentNode.removeChild(o),l.focus())}var o=e(this,t,i&&i.bottom),t=o.getElementsByTagName("button"),r=!1,l=this,s=1;for(t[0].focus(),i=0;i<t.length;++i){var d=t[i];!function(e){CodeMirror.on(d,"click",function(t){CodeMirror.e_preventDefault(t),a(),e&&e(l)})}(n[i]),CodeMirror.on(d,"blur",function(){--s,setTimeout(function(){0>=s&&a()},200)}),CodeMirror.on(d,"focus",function(){++s})}})}();