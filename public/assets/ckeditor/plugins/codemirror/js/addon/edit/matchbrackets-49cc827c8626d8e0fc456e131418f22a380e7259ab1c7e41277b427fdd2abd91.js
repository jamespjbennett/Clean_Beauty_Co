!function(){function e(e){function t(t,n,i){if(t.text){var o=d?0:t.text.length-1,l=d?t.text.length:-1;for(null!=i&&(o=i+c);o!=l;o+=c)if(i=t.text.charAt(o),p.test(i)&&e.getTokenAt(a(n,o+1)).type==u){var s=r[i];if(">"==s.charAt(1)==d)m.push(i);else{if(m.pop()!=s.charAt(0))return{pos:o,match:!1};if(!m.length)return{pos:o,match:!0}}}}}var n=e.getCursor(),i=e.getLineHandle(n.line),o=n.ch-1,l=o>=0&&r[i.text.charAt(o)]||r[i.text.charAt(++o)];if(!l)return null;for(var s,d=">"==l.charAt(1),c=d?1:-1,u=e.getTokenAt(a(n.line,o+1)).type,m=[i.text.charAt(o)],p=/[(){}[\]]/,l=n.line,h=d?Math.min(l+100,e.lineCount()):Math.max(-1,l-100);l!=h&&!(s=l==n.line?t(i,l,o):t(e.getLineHandle(l),l));l+=c);return{from:a(n.line,o),to:s&&a(l,s.pos),match:s&&s.match}}function t(t,n){var r=e(t);if(r&&!(t.getLine(r.from.line).length>o||r.to&&t.getLine(r.to.line).length>o)){var l=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=t.markText(r.from,a(r.from.line,r.from.ch+1),{className:l}),d=r.to&&t.markText(r.to,a(r.to.line,r.to.ch+1),{className:l});if(i&&t.state.focused&&t.display.input.focus(),r=function(){t.operation(function(){s.clear(),d&&d.clear()})},!n)return r;setTimeout(r,800)}}function n(e){e.operation(function(){l&&(l(),l=null),e.somethingSelected()||(l=t(e,!1))})}var i=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),a=CodeMirror.Pos,o=1e3,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;CodeMirror.defineOption("matchBrackets",!1,function(e,t){t?e.on("cursorActivity",n):e.off("cursorActivity",n)}),CodeMirror.defineExtension("matchBrackets",function(){t(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(){return e(this)})}();