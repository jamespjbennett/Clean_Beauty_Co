!function(){function e(e){function t(t,n,a){if(t.text){var o=d?0:t.text.length-1,l=d?t.text.length:-1;for(null!=a&&(o=a+c);o!=l;o+=c)if(a=t.text.charAt(o),m.test(a)&&e.getTokenAt(i(n,o+1)).type==u){var s=r[a];if(">"==s.charAt(1)==d)p.push(a);else{if(p.pop()!=s.charAt(0))return{pos:o,match:!1};if(!p.length)return{pos:o,match:!0}}}}}var n=e.getCursor(),a=e.getLineHandle(n.line),o=n.ch-1,l=o>=0&&r[a.text.charAt(o)]||r[a.text.charAt(++o)];if(!l)return null;for(var s,d=">"==l.charAt(1),c=d?1:-1,u=e.getTokenAt(i(n.line,o+1)).type,p=[a.text.charAt(o)],m=/[(){}[\]]/,l=n.line,h=d?Math.min(l+100,e.lineCount()):Math.max(-1,l-100);l!=h&&!(s=l==n.line?t(a,l,o):t(e.getLineHandle(l),l));l+=c);return{from:i(n.line,o),to:s&&i(l,s.pos),match:s&&s.match}}function t(t,n){var r=e(t);if(r&&!(t.getLine(r.from.line).length>o||r.to&&t.getLine(r.to.line).length>o)){var l=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=t.markText(r.from,i(r.from.line,r.from.ch+1),{className:l}),d=r.to&&t.markText(r.to,i(r.to.line,r.to.ch+1),{className:l});if(a&&t.state.focused&&t.display.input.focus(),r=function(){t.operation(function(){s.clear(),d&&d.clear()})},!n)return r;setTimeout(r,800)}}function n(e){e.operation(function(){l&&(l(),l=null),e.somethingSelected()||(l=t(e,!1))})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),i=CodeMirror.Pos,o=1e3,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;CodeMirror.defineOption("matchBrackets",!1,function(e,t){t?e.on("cursorActivity",n):e.off("cursorActivity",n)}),CodeMirror.defineExtension("matchBrackets",function(){t(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(){return e(this)})}();