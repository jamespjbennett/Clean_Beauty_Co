!function(){function e(e){function t(t,n,i){if(t.text){var o=d?0:t.text.length-1,s=d?t.text.length:-1;for(null!=i&&(o=i+c);o!=s;o+=c)if(i=t.text.charAt(o),m.test(i)&&e.getTokenAt(a(n,o+1)).type==u){var l=r[i];if(">"==l.charAt(1)==d)p.push(i);else{if(p.pop()!=l.charAt(0))return{pos:o,match:!1};if(!p.length)return{pos:o,match:!0}}}}}var n=e.getCursor(),i=e.getLineHandle(n.line),o=n.ch-1,s=o>=0&&r[i.text.charAt(o)]||r[i.text.charAt(++o)];if(!s)return null;for(var l,d=">"==s.charAt(1),c=d?1:-1,u=e.getTokenAt(a(n.line,o+1)).type,p=[i.text.charAt(o)],m=/[(){}[\]]/,s=n.line,h=d?Math.min(s+100,e.lineCount()):Math.max(-1,s-100);s!=h&&!(l=s==n.line?t(i,s,o):t(e.getLineHandle(s),s));s+=c);return{from:a(n.line,o),to:l&&a(s,l.pos),match:l&&l.match}}function t(t,n){var r=e(t);if(r&&!(t.getLine(r.from.line).length>o||r.to&&t.getLine(r.to.line).length>o)){var s=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",l=t.markText(r.from,a(r.from.line,r.from.ch+1),{className:s}),d=r.to&&t.markText(r.to,a(r.to.line,r.to.ch+1),{className:s});if(i&&t.state.focused&&t.display.input.focus(),r=function(){t.operation(function(){l.clear(),d&&d.clear()})},!n)return r;setTimeout(r,800)}}function n(e){e.operation(function(){s&&(s(),s=null),e.somethingSelected()||(s=t(e,!1))})}var i=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),a=CodeMirror.Pos,o=1e3,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},s=null;CodeMirror.defineOption("matchBrackets",!1,function(e,t){t?e.on("cursorActivity",n):e.off("cursorActivity",n)}),CodeMirror.defineExtension("matchBrackets",function(){t(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(){return e(this)})}();