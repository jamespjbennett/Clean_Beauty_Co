!function(){function e(e){for(var t={name:"autoCloseBrackets"},n=0;n<e.length;n+=2)(function(e,n){function a(e){var t=e.getCursor();return e.getRange(t,CodeMirror.Pos(t.line,t.ch+1))!=n?CodeMirror.Pass:void e.execCommand("goCharRight")}t["'"+e+"'"]=function(t){if(e!=n||a(t)==CodeMirror.Pass){var i=t.getCursor("start"),i=CodeMirror.Pos(i.line,i.ch+1);t.replaceSelection(e+n,{head:i,anchor:i})}},e!=n&&(t["'"+n+"'"]=a)})(e.charAt(n),e.charAt(n+1));return t}CodeMirror.defineOption("autoCloseBrackets",!1,function(t,n,a){a=a&&a!=CodeMirror.Init,n&&!a?t.addKeyMap(e("string"==typeof n?n:"()[]{}''\"\"")):!n&&a&&t.removeKeyMap("autoCloseBrackets")})}(),function(){function e(e,i){var o,r,l=e.getCursor(),s=e.getTokenAt(l),d=CodeMirror.innerMode(e.getMode(),s.state),c=d.state;if("xml"!=d.mode.name)return CodeMirror.Pass;var u=e.getOption("autoCloseTags"),p="html"==d.mode.configuration,d="object"==typeof u&&u.dontCloseTags||p&&n,u="object"==typeof u&&u.indentTags||p&&a;if(">"==i&&c.tagName){if(r=c.tagName,s.end>l.ch&&(r=r.slice(0,r.length-s.end+l.ch)),o=r.toLowerCase(),"tag"==s.type&&"closeTag"==c.type||/\/\s*$/.test(s.string)||d&&-1<t(d,o))return CodeMirror.Pass;c=(s=u&&-1<t(u,o))?CodeMirror.Pos(l.line+1,0):CodeMirror.Pos(l.line,l.ch+1),e.replaceSelection(">"+(s?"\n\n":"")+"</"+r+">",{head:c,anchor:c}),s&&(e.indentLine(l.line+1),e.indentLine(l.line+2))}else{if("/"!=i||"<"!=s.string)return CodeMirror.Pass;(r=c.context&&c.context.tagName)&&e.replaceSelection("/"+r+">","end")}}function t(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,a=e.length;a>n;++n)if(e[n]==t)return n;return-1}CodeMirror.defineOption("autoCloseTags",!1,function(t,n,a){!n||a!=CodeMirror.Init&&a?!n&&a!=CodeMirror.Init&&a&&t.removeKeyMap("autoCloseTags"):(a={name:"autoCloseTags"},("object"!=typeof n||n.whenClosing)&&(a["'/'"]=function(t){return e(t,"/")}),("object"!=typeof n||n.whenOpening)&&(a["'>'"]=function(t){return e(t,">")}),t.addKeyMap(a))});var n="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),a="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ")}(),function(){function e(e){function t(t,n,a){var o,l,s,d;if(t.text)for(o=c?0:t.text.length-1,l=c?t.text.length:-1,null!=a&&(o=a+u);o!=l;o+=u)if(s=t.text.charAt(o),h.test(s)&&e.getTokenAt(i(n,o+1)).type==p)if(d=r[s],">"==d.charAt(1)==c)m.push(s);else{if(m.pop()!=d.charAt(0))return{pos:o,match:!1};if(!m.length)return{pos:o,match:!0}}}var n,a,o=e.getCursor(),l=e.getLineHandle(o.line),s=o.ch-1,d=s>=0&&r[l.text.charAt(s)]||r[l.text.charAt(++s)];if(!d)return null;var c=">"==d.charAt(1),u=c?1:-1,p=e.getTokenAt(i(o.line,s+1)).type,m=[l.text.charAt(s)],h=/[(){}[\]]/,d=o.line;for(a=c?Math.min(d+100,e.lineCount()):Math.max(-1,d-100);d!=a&&!(n=d==o.line?t(l,d,s):t(e.getLineHandle(d),d));d+=u);return{from:i(o.line,s),to:n&&i(d,n.pos),match:n&&n.match}}function t(t,n){var r=e(t);if(!(!r||t.getLine(r.from.line).length>o||r.to&&t.getLine(r.to.line).length>o)){var l=r.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=t.markText(r.from,i(r.from.line,r.from.ch+1),{className:l}),d=r.to&&t.markText(r.to,i(r.to.line,r.to.ch+1),{className:l});if(a&&t.state.focused&&t.display.input.focus(),r=function(){t.operation(function(){s.clear(),d&&d.clear()})},!n)return r;setTimeout(r,800)}}function n(e){e.operation(function(){l&&(l(),l=null),e.somethingSelected()||(l=t(e,!1))})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),i=CodeMirror.Pos,o=1e3,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;CodeMirror.defineOption("matchBrackets",!1,function(e,t){t?e.on("cursorActivity",n):e.off("cursorActivity",n)}),CodeMirror.defineExtension("matchBrackets",function(){t(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(){return e(this)})}(),CodeMirror.tagRangeFinder=function(e,t){for(var n,a,i,o,r,l,s,d=RegExp("^[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*"),c=e.getLine(t.line),u=!1,p=null,m=t.ch;!u;){if(m=c.indexOf("<",m),-1==m)return;if(m+1<c.length&&"/"==c[m+1])m++;else if(c.substr(m+1).match(d)){if(n=c.indexOf(">",m+1),-1==n){var u=t.line+1,h=!1;for(o=e.lineCount();o>u&&!h;){if(a=e.getLine(u),n=a.indexOf(">"),-1!=n&&(h=!0,i=a.lastIndexOf("/",n),-1!=i&&n>i&&(r=c.substr(i,n-i+1),!r.match(/\/\s*\>/))))return;u++}u=!0}else o=c.lastIndexOf("/",n),-1==o?u=!0:(r=c.substr(o,n-o+1),r.match(/\/\s*\>/)||(u=!0));u&&(l=c.substr(m+1),p=l.match(d),p?(p=p[0],-1!=c.indexOf("</"+p+">",m)&&(u=!1)):u=!1),u||m++}else m++}if(u)for(d=RegExp("(\\<\\/"+p+"\\>)|(\\<"+p+"\\>)|(\\<"+p+"\\s)|(\\<"+p+"$)"),m="</"+p+">",a=1,u=t.line+1,o=e.lineCount();o>u;){if(c=e.getLine(u),s=c.match(d))for(p=0;p<s.length;p++)if(s[p]==m?a--:a++,!a)return{from:CodeMirror.Pos(t.line,n+1),to:CodeMirror.Pos(u,s.index)};u++}},CodeMirror.braceRangeFinder=function(e,t){for(var n,a,i,o,r,l,s,d,c,u=t.line,p=e.getLine(u),m=p.length;i=p.lastIndexOf("{",m),!(i<t.ch);){if(a=e.getTokenAt(CodeMirror.Pos(u,i+1)).type,!/^(comment|string)/.test(a)){n=i;break}m=i-1}if(null!=n&&!(p.lastIndexOf("}")>n)){p=1,m=e.lineCount(),i=u+1;e:for(;m>i;++i)for(l=e.getLine(i),s=0;d=l.indexOf("{",s),c=l.indexOf("}",s),0>d&&(d=l.length),0>c&&(c=l.length),s=Math.min(d,c),!(s==l.length);){if(e.getTokenAt(CodeMirror.Pos(i,s+1)).type==a)if(s==d)++p;else if(!--p){o=i,r=s;break e}++s}if(null!=o&&o!=u+1)return{from:CodeMirror.Pos(u,n+1),to:CodeMirror.Pos(o,r)}}},CodeMirror.indentRangeFinder=function(e,t){for(var n,a=e.getOption("tabSize"),i=e.getLine(t.line),o=CodeMirror.countColumn(i,null,a),r=t.line+1,l=e.lineCount();l>r;++r)if(n=e.getLine(r),CodeMirror.countColumn(n,null,a)<o&&CodeMirror.countColumn(e.getLine(r-1),null,a)>o)return{from:CodeMirror.Pos(t.line,i.length),to:CodeMirror.Pos(r,n.length)}},CodeMirror.newFoldFunction=function(e,t){if(null==t&&(t="\u2194"),"string"==typeof t){var n=document.createTextNode(t),t=document.createElement("span");t.appendChild(n),t.className="CodeMirror-foldmarker"}return function(n,a){var i,o,r,l,s;if("number"==typeof a&&(a=CodeMirror.Pos(a,0)),i=e(n,a)){for(o=n.findMarksAt(i.from),l=r=0;l<o.length;++l)o[l].__isFold&&(++r,o[l].clear());r||(o=t.cloneNode(!0),CodeMirror.on(o,"mousedown",function(){s.clear()}),s=n.markText(i.from,i.to,{replacedWith:o,clearOnEnter:!0,__isFold:!0}))}}},function(){CodeMirror.defineExtension("autoFormatAll",function(e,t){for(var n,a=this,i=a.getMode(),o=a.getRange(e,t).split("\n"),r=CodeMirror.copyState(i,a.getTokenAt(e).state),l=a.getOption("tabSize"),s="",d=0,c=0==e.ch,u=0;u<o.length;++u){for(n=new CodeMirror.StringStream(o[u],l);!n.eol();){var p=CodeMirror.innerMode(i,r),m=i.token(n,r),h=n.current();n.start=n.pos,(!c||/\S/.test(h))&&(s+=h,c=!1),!c&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(m,h,n.string.slice(n.pos)||o[u+1]||"",p.state)&&(s+="\n",c=!0,++d)}!n.pos&&i.blankLine&&i.blankLine(r),!c&&u<o.length-1&&(s+="\n",c=!0,++d)}a.operation(function(){a.replaceRange(s,e,t);for(var n=e.line+1,i=e.line+d;i>=n;++n)a.indentLine(n,"smart");a.setCursor({line:0,ch:0})})})}(),function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t){return/^[;{}]$/.test(t)}}),CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(e,t,n,a){return this.jsonMode?/^[\[,{]$/.test(t)||/^}/.test(n):";"==t&&a.lexical&&")"==a.lexical.type?!1:/^[;{}]$/.test(t)&&!/^;/.test(n)}});var e=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;CodeMirror.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(t,n,a,i){var o=!1;return"html"==this.configuration&&(o=i.context?e.test(i.context.tagName):!1),!o&&("tag"==t&&/>$/.test(n)&&i.context||/^</.test(a))}}),CodeMirror.defineExtension("commentRange",function(e,t,n){var a=this,i=CodeMirror.innerMode(a.getMode(),a.getTokenAt(t).state).mode;a.operation(function(){if(e)a.replaceRange(i.commentEnd,n),a.replaceRange(i.commentStart,t),t.line==n.line&&t.ch==n.ch&&a.setCursor(t.line,t.ch+i.commentStart.length);else{var o=a.getRange(t,n),r=o.indexOf(i.commentStart),l=o.lastIndexOf(i.commentEnd);r>-1&&l>-1&&l>r&&(o=o.substr(0,r)+o.substring(r+i.commentStart.length,l)+o.substr(l+i.commentEnd.length)),a.replaceRange(o,t,n)}})}),CodeMirror.defineExtension("autoIndentRange",function(e,t){var n=this;this.operation(function(){for(var a=e.line;a<=t.line;a++)n.indentLine(a,"smart")})}),CodeMirror.defineExtension("autoFormatRange",function(e,t){for(var n,a=this,i=a.getMode(),o=a.getRange(e,t).split("\n"),r=CodeMirror.copyState(i,a.getTokenAt(e).state),l=a.getOption("tabSize"),s="",d=0,c=0==e.ch,u=0;u<o.length;++u){for(n=new CodeMirror.StringStream(o[u],l);!n.eol();){var p=CodeMirror.innerMode(i,r),m=i.token(n,r),h=n.current();n.start=n.pos,(!c||/\S/.test(h))&&(s+=h,c=!1),!c&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(m,h,n.string.slice(n.pos)||o[u+1]||"",p.state)&&(s+="\n",c=!0,++d)}!n.pos&&i.blankLine&&i.blankLine(r),!c&&u<o.length-1&&(s+="\n",c=!0,++d)}a.operation(function(){a.replaceRange(s,e,t);for(var n=e.line+1,i=e.line+d;i>=n;++n)a.indentLine(n,"smart");a.setSelection(e,a.getCursor(!1))})})}(),function(){function e(e){this.minChars="object"==typeof e&&e.minChars||a,this.style="object"==typeof e&&e.style||i,this.overlay=null}function t(e){e.operation(function(){var t,a=e._matchHighlightState;a.overlay&&(e.removeOverlay(a.overlay),a.overlay=null),e.somethingSelected()&&(t=e.getSelection().replace(/^\s+|\s+$/g,""),t.length<a.minChars||e.addOverlay(a.overlay=n(t,a.style)))})}function n(e,t){return{token:function(n){return n.match(e)?t:(n.next(),void(n.skipTo(e.charAt(0))||n.skipToEnd()))}}}var a=2,i="matchhighlight";CodeMirror.defineOption("highlightSelectionMatches",!1,function(n,a,i){var o,i=i&&i!=CodeMirror.Init;a&&!i?(n._matchHighlightState=new e(a),n.on("cursorActivity",t)):!a&&i&&(o=n._matchHighlightState.overlay,o&&n.removeOverlay(o),n._matchHighlightState=null,n.off("cursorActivity",t))})}();