CodeMirror.defineMode("javascript",function(e,t){function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(n==t&&!i)return!1;i=!i&&"\\"==n}return i}function i(e,t,n){return F=e,z=n,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return o=a(o),t.tokenize=o,o(e,t);if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o)||"-"==o&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==o)return e.eat("*")?(o=r,t.tokenize=o,o(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(q),i("operator",null,e.current()));if("#"==o)return e.skipToEnd(),i("error","error");if(q.test(o))return e.eatWhile(q),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var o=e.current(),s=W.propertyIsEnumerable(o)&&W[o];return s&&"."!=t.lastType?i(s.type,s.style,o):i("variable","variable",o)}function a(e){return function(t,a){return n(t,e)||(a.tokenize=o),i("string","string")}}function r(e,t){for(var n,a=!1;n=e.next();){if("/"==n&&a){t.tokenize=o;break}a="*"==n}return i("comment","comment")}function s(e,t,n,i,o,a){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=a,null!=i&&(this.align=i)}function l(){for(var e=arguments.length-1;e>=0;e--)N.push(arguments[e])}function d(){return l.apply(null,arguments),!0}function c(e){function t(t){for(;t;t=t.next)if(t.name==e)return!0;return!1}var n=M;n.context?(P="def",t(n.localVars)||(n.localVars={name:e,next:n.localVars})):t(n.globalVars)||(n.globalVars={name:e,next:n.globalVars})}function u(){M.context={prev:M.context,vars:M.localVars},M.localVars=U}function p(){M.localVars=M.context.vars,M.context=M.context.prev}function m(e,t){var n=function(){var n=M;n.lexical=new s(n.indented,B.column(),e,null,n.lexical,t)};return n.lex=!0,n}function h(){var e=M;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function f(e){return function(t){return t==e?d():";"==e?l():d(arguments.callee)}}function g(e){return"var"==e?d(m("vardef"),_,f(";"),h):"keyword a"==e?d(m("form"),v,g,h):"keyword b"==e?d(m("form"),g,h):"{"==e?d(m("}"),D,h):";"==e?d():"function"==e?d(A):"for"==e?d(m("form"),f("("),m(")"),w,f(")"),h,g,h):"variable"==e?d(m("stat"),E):"switch"==e?d(m("form"),v,m("}","switch"),f("{"),D,h,h):"case"==e?d(v,f(":")):"default"==e?d(f(":")):"catch"==e?d(m("form"),u,f("("),L,f(")"),g,h,p):l(m("stat"),v,f(";"),h)}function v(e){return Y.hasOwnProperty(e)?d(T):"function"==e?d(A):"keyword c"==e?d(b):"("==e?d(m(")"),b,f(")"),h,T):"operator"==e?d(v):"["==e?d(m("]"),k(v,"]"),h,T):"{"==e?d(m("}"),k(y,"}"),h,T):d()}function b(e){return e.match(/[;\}\)\],]/)?l():l(v)}function T(e,t){if("operator"==e)return/\+\+|--/.test(t)?d(T):"?"==t?d(v,f(":"),v):d(v);if(";"!=e){if("("==e)return d(m(")"),k(v,")"),h,T);if("."==e)return d(C,T);if("["==e)return d(m("]"),v,f("]"),h,T)}}function E(e){return":"==e?d(h,g):l(T,f(";"),h)}function C(e){return"variable"==e?(P="property",d()):void 0}function y(e){return"variable"==e?P="property":("number"==e||"string"==e)&&(P=e+" property"),Y.hasOwnProperty(e)?d(f(":"),v):void 0}function k(e,t){function n(i){return","==i?d(e,n):i==t?d():d(f(t))}return function(i){return i==t?d():l(e,n)}}function D(e){return"}"==e?d():l(g,D)}function I(e){return":"==e?d(R):l()}function R(e){return"variable"==e?(P="variable-3",d()):l()}function _(e,t){return"variable"==e?(c(t),j?d(I,O):d(O)):l()}function O(e,t){return"="==t?d(v,O):","==e?d(_):void 0}function w(e){return"var"==e?d(_,f(";"),K):d(";"==e?K:"variable"==e?S:K)}function S(e,t){return"in"==t?d(v):d(T,K)}function K(e,t){return";"==e?d(x):"in"==t?d(v):d(v,f(";"),x)}function x(e){")"!=e&&d(v)}function A(e,t){return"variable"==e?(c(t),d(A)):"("==e?d(m(")"),u,k(L,")"),h,g,p):void 0}function L(e,t){return"variable"==e?(c(t),j?d(I):d()):void 0}var N,M,P,B,F,z,H=e.indentUnit,$=t.json,j=t.typescript,W=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),o=e("operator"),a={type:"atom",style:"atom"},t={"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a};if(j){var r,n={type:"variable",style:"variable-3"},n={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:n,number:n,bool:n,any:n};for(r in n)t[r]=n[r]}return t}(),q=/[+\-*&%=<>!?|]/,Y={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};N=P=M=null,B=void 0;var U={name:"this",next:{name:"arguments"}};return h.lex=!0,{startState:function(e){return{tokenize:o,lastType:null,cc:[],lexical:new s((e||0)-H,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==F)return n;t.lastType=F;var i;e:{var o=F,a=z,r=t.cc;for(M=t,B=e,P=null,N=r,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((r.length?r.pop():$?v:g)(o,a)){for(;r.length&&r[r.length-1].lex;)r.pop()();if(P){i=P;break e}if(i="variable"==o)t:{for(i=t.localVars;i;i=i.next)if(i.name==a){i=!0;break t}i=void 0}if(i){i="variable-2";break e}i=n;break e}}return i},indent:function(e,t){if(e.tokenize==r)return CodeMirror.Pass;if(e.tokenize!=o)return 0;var n=t&&t.charAt(0),i=e.lexical;"stat"==i.type&&"}"==n&&(i=i.prev);var a=i.type,s=n==a;return"vardef"==a?i.indented+("operator"==e.lastType||","==e.lastType?4:0):"form"==a&&"{"==n?i.indented:"form"==a?i.indented+H:"stat"==a?i.indented+("operator"==e.lastType||","==e.lastType?H:0):"switch"!=i.info||s?i.align?i.column+(s?0:1):i.indented+(s?0:H):i.indented+(/^(?:case|default)\b/.test(t)?H:2*H)},electricChars:":{}",jsonMode:$}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});