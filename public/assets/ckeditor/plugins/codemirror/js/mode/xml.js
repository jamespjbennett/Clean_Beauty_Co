CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var o=e.next();if("<"==o){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(a("atom","]]>")):null:e.match("--")?n(a("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(r(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=a("meta","?>"),"meta";o=e.eat("/"),v="";for(var l;l=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)v+=l;return v?(T=o?"closeTag":"openTag",t.tokenize=i,"tag"):"error"}return"&"==o?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function i(e,t){var i=e.next();return">"==i||"/"==i&&e.eat(">")?(t.tokenize=n,T=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(T="equals",null):/[\'\"]/.test(i)?(t.tokenize=o(i),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function o(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"}}function a(e,t){return function(i,o){for(;!i.eol();){if(i.match(t)){o.tokenize=n;break}i.next()}return e}}function r(e){return function(t,i){for(var o;null!=(o=t.next());){if("<"==o)return i.tokenize=r(e+1),i.tokenize(t,i);if(">"==o){if(1==e){i.tokenize=n;break}return i.tokenize=r(e-1),i.tokenize(t,i)}}return"meta"}}function l(){for(var e=arguments.length-1;e>=0;e--)E.cc.push(arguments[e])}function s(){return l.apply(null,arguments),!0}function d(){E.context&&(E.context=E.context.prev)}function c(e){return"openTag"==e?(E.tagName=v,s(h,u(E.startOfLine))):"closeTag"==e?(e=!1,E.context?E.context.tagName!=v&&(k.implicitlyClosed.hasOwnProperty(E.context.tagName.toLowerCase())&&d(),e=!E.context||E.context.tagName!=v):e=!0,e&&(C="error"),s(p(e))):s()}function u(e){return function(t){var n=E.tagName;return E.tagName=null,"selfcloseTag"==t||"endTag"==t&&k.autoSelfClosers.hasOwnProperty(n.toLowerCase())?(m(n.toLowerCase()),s()):("endTag"==t&&(m(n.toLowerCase()),t=k.doNotIndent.hasOwnProperty(n)||E.context&&E.context.noIndent,E.context={prev:E.context,tagName:n,indent:E.indented,startOfLine:e,noIndent:t}),s())}}function p(e){return function(t){return e&&(C="error"),"endTag"==t?(d(),s()):(C="error",s(arguments.callee))}}function m(e){for(var t;E.context&&(t=E.context.tagName.toLowerCase(),k.contextGrabbers.hasOwnProperty(t)&&k.contextGrabbers[t].hasOwnProperty(e));)d()}function h(e){return"word"==e?(C="attribute",s(g,h)):"endTag"==e||"selfcloseTag"==e?l():(C="error",s(h))}function g(e){return"equals"==e?s(f,h):(k.allowMissing?"word"==e&&(C="attribute"):C="error","endTag"==e||"selfcloseTag"==e?l():s())}function f(e){return"string"==e?s(b):"word"==e&&k.allowUnquoted?(C="string",s()):(C="error","endTag"==e||"selfCloseTag"==e?l():s())}function b(e){return"string"==e?s(b):l()}var v,T,E,C,y=e.indentUnit,k=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},R=t.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;C=T=v=null;var n=t.tokenize(e,t);if(t.type=T,(n||T)&&"comment"!=n)for(E=t;!(t.cc.pop()||c)(T||n););return t.startOfLine=!1,C||n},indent:function(e,t,o){var a=e.context;if(e.tokenize!=i&&e.tokenize!=n||a&&a.noIndent)return o?o.match(/^(\s*)/)[0].length:0;if(R&&/<!\[CDATA\[/.test(t))return 0;for(a&&/^<\//.test(t)&&(a=a.prev);a&&!a.startOfLine;)a=a.prev;return a?a.indent+y:0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});