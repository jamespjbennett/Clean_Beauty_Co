CodeMirror.defineMode("javascript",function(e,t){function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(n==t&&!i)return!1;i=!i&&"\\"==n}return i}function i(e,t,n){return B=e,z=n,t}function a(e,t){var a=e.next();if('"'==a||"'"==a)return a=o(a),t.tokenize=a,a(e,t);if(/[\[\]{}\(\),;\:\.]/.test(a))return i(a);if("0"==a&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(a)||"-"==a&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==a)return e.eat("*")?(a=r,t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(V),i("operator",null,e.current()));if("#"==a)return e.skipToEnd(),i("error","error");if(V.test(a))return e.eatWhile(V),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var a=e.current(),l=$.propertyIsEnumerable(a)&&$[a];return l&&"."!=t.lastType?i(l.type,l.style,a):i("variable","variable",a)}function o(e){return function(t,o){return n(t,e)||(o.tokenize=a),i("string","string")}}function r(e,t){for(var n,o=!1;n=e.next();){if("/"==n&&o){t.tokenize=a;break}o="*"==n}return i("comment","comment")}function l(e,t,n,i,a,o){this.indented=e,this.column=t,this.type=n,this.prev=a,this.info=o,null!=i&&(this.align=i)}function s(){for(var e=arguments.length-1;e>=0;e--)N.push(arguments[e])}function c(){return s.apply(null,arguments),!0}function d(e){function t(t){for(;t;t=t.next)if(t.name==e)return!0;return!1}var n=F;n.context?(M="def",t(n.localVars)||(n.localVars={name:e,next:n.localVars})):t(n.globalVars)||(n.globalVars={name:e,next:n.globalVars})}function u(){F.context={prev:F.context,vars:F.localVars},F.localVars=U}function m(){F.localVars=F.context.vars,F.context=F.context.prev}function p(e,t){var n=function(){var n=F;n.lexical=new l(n.indented,P.column(),e,null,n.lexical,t)};return n.lex=!0,n}function h(){var e=F;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function f(e){return function(t){return t==e?c():";"==e?s():c(arguments.callee)}}function g(e){return"var"==e?c(p("vardef"),O,f(";"),h):"keyword a"==e?c(p("form"),b,g,h):"keyword b"==e?c(p("form"),g,h):"{"==e?c(p("}"),D,h):";"==e?c():"function"==e?c(L):"for"==e?c(p("form"),f("("),p(")"),w,f(")"),h,g,h):"variable"==e?c(p("stat"),E):"switch"==e?c(p("form"),b,p("}","switch"),f("{"),D,h,h):"case"==e?c(b,f(":")):"default"==e?c(f(":")):"catch"==e?c(p("form"),u,f("("),x,f(")"),g,h,m):s(p("stat"),b,f(";"),h)}function b(e){return W.hasOwnProperty(e)?c(T):"function"==e?c(L):"keyword c"==e?c(v):"("==e?c(p(")"),v,f(")"),h,T):"operator"==e?c(b):"["==e?c(p("]"),k(b,"]"),h,T):"{"==e?c(p("}"),k(C,"}"),h,T):c()}function v(e){return e.match(/[;\}\)\],]/)?s():s(b)}function T(e,t){if("operator"==e)return/\+\+|--/.test(t)?c(T):"?"==t?c(b,f(":"),b):c(b);if(";"!=e){if("("==e)return c(p(")"),k(b,")"),h,T);if("."==e)return c(y,T);if("["==e)return c(p("]"),b,f("]"),h,T)}}function E(e){return":"==e?c(h,g):s(T,f(";"),h)}function y(e){return"variable"==e?(M="property",c()):void 0}function C(e){return"variable"==e?M="property":("number"==e||"string"==e)&&(M=e+" property"),W.hasOwnProperty(e)?c(f(":"),b):void 0}function k(e,t){function n(i){return","==i?c(e,n):i==t?c():c(f(t))}return function(i){return i==t?c():s(e,n)}}function D(e){return"}"==e?c():s(g,D)}function I(e){return":"==e?c(R):s()}function R(e){return"variable"==e?(M="variable-3",c()):s()}function O(e,t){return"variable"==e?(d(t),q?c(I,_):c(_)):s()}function _(e,t){return"="==t?c(b,_):","==e?c(O):void 0}function w(e){return"var"==e?c(O,f(";"),A):c(";"==e?A:"variable"==e?S:A)}function S(e,t){return"in"==t?c(b):c(T,A)}function A(e,t){return";"==e?c(K):"in"==t?c(b):c(b,f(";"),K)}function K(e){")"!=e&&c(b)}function L(e,t){return"variable"==e?(d(t),c(L)):"("==e?c(p(")"),u,k(x,")"),h,g,m):void 0}function x(e,t){return"variable"==e?(d(t),q?c(I):c()):void 0}var N,F,M,P,B,z,j=e.indentUnit,H=t.json,q=t.typescript,$=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),a=e("operator"),o={type:"atom",style:"atom"},t={"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":a,"typeof":a,"instanceof":a,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o};if(q){var r,n={type:"variable",style:"variable-3"},n={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:n,number:n,bool:n,any:n};for(r in n)t[r]=n[r]}return t}(),V=/[+\-*&%=<>!?|]/,W={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};N=M=F=null,P=void 0;var U={name:"this",next:{name:"arguments"}};return h.lex=!0,{startState:function(e){return{tokenize:a,lastType:null,cc:[],lexical:new l((e||0)-j,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==B)return n;t.lastType=B;var i;e:{var a=B,o=z,r=t.cc;for(F=t,P=e,M=null,N=r,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((r.length?r.pop():H?b:g)(a,o)){for(;r.length&&r[r.length-1].lex;)r.pop()();if(M){i=M;break e}if(i="variable"==a)t:{for(i=t.localVars;i;i=i.next)if(i.name==o){i=!0;break t}i=void 0}if(i){i="variable-2";break e}i=n;break e}}return i},indent:function(e,t){if(e.tokenize==r)return CodeMirror.Pass;if(e.tokenize!=a)return 0;var n=t&&t.charAt(0),i=e.lexical;"stat"==i.type&&"}"==n&&(i=i.prev);var o=i.type,l=n==o;return"vardef"==o?i.indented+("operator"==e.lastType||","==e.lastType?4:0):"form"==o&&"{"==n?i.indented:"form"==o?i.indented+j:"stat"==o?i.indented+("operator"==e.lastType||","==e.lastType?j:0):"switch"!=i.info||l?i.align?i.column+(l?0:1):i.indented+(l?0:j):i.indented+(/^(?:case|default)\b/.test(t)?j:2*j)},electricChars:":{}",jsonMode:H}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});