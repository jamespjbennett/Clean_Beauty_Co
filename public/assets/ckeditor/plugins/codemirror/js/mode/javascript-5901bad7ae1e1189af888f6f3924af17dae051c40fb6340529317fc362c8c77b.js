CodeMirror.defineMode("javascript",function(e,t){function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(n==t&&!i)return!1;i=!i&&"\\"==n}return i}function i(e,t,n){return z=e,M=n,t}function o(e,t){var o=e.next();if('"'==o||"'"==o)return o=a(o),t.tokenize=o,o(e,t);if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o)||"-"==o&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==o)return e.eat("*")?(o=r,t.tokenize=o,o(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(U),i("operator",null,e.current()));if("#"==o)return e.skipToEnd(),i("error","error");if(U.test(o))return e.eatWhile(U),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var o=e.current(),l=W.propertyIsEnumerable(o)&&W[o];return l&&"."!=t.lastType?i(l.type,l.style,o):i("variable","variable",o)}function a(e){return function(t,a){return n(t,e)||(a.tokenize=o),i("string","string")}}function r(e,t){for(var n,a=!1;n=e.next();){if("/"==n&&a){t.tokenize=o;break}a="*"==n}return i("comment","comment")}function l(e,t,n,i,o,a){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=a,null!=i&&(this.align=i)}function s(){for(var e=arguments.length-1;e>=0;e--)L.push(arguments[e])}function d(){return s.apply(null,arguments),!0}function c(e){function t(t){for(;t;t=t.next)if(t.name==e)return!0;return!1}var n=P;n.context?(B="def",t(n.localVars)||(n.localVars={name:e,next:n.localVars})):t(n.globalVars)||(n.globalVars={name:e,next:n.globalVars})}function u(){P.context={prev:P.context,vars:P.localVars},P.localVars=q}function p(){P.localVars=P.context.vars,P.context=P.context.prev}function m(e,t){var n=function(){var n=P;n.lexical=new l(n.indented,F.column(),e,null,n.lexical,t)};return n.lex=!0,n}function h(){var e=P;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function g(e){return function(t){return t==e?d():";"==e?s():d(arguments.callee)}}function f(e){return"var"==e?d(m("vardef"),O,g(";"),h):"keyword a"==e?d(m("form"),b,f,h):"keyword b"==e?d(m("form"),f,h):"{"==e?d(m("}"),R,h):";"==e?d():"function"==e?d(x):"for"==e?d(m("form"),g("("),m(")"),w,g(")"),h,f,h):"variable"==e?d(m("stat"),E):"switch"==e?d(m("form"),b,m("}","switch"),g("{"),R,h,h):"case"==e?d(b,g(":")):"default"==e?d(g(":")):"catch"==e?d(m("form"),u,g("("),N,g(")"),f,h,p):s(m("stat"),b,g(";"),h)}function b(e){return V.hasOwnProperty(e)?d(T):"function"==e?d(x):"keyword c"==e?d(v):"("==e?d(m(")"),v,g(")"),h,T):"operator"==e?d(b):"["==e?d(m("]"),k(b,"]"),h,T):"{"==e?d(m("}"),k(y,"}"),h,T):d()}function v(e){return e.match(/[;\}\)\],]/)?s():s(b)}function T(e,t){if("operator"==e)return/\+\+|--/.test(t)?d(T):"?"==t?d(b,g(":"),b):d(b);if(";"!=e){if("("==e)return d(m(")"),k(b,")"),h,T);if("."==e)return d(C,T);if("["==e)return d(m("]"),b,g("]"),h,T)}}function E(e){return":"==e?d(h,f):s(T,g(";"),h)}function C(e){return"variable"==e?(B="property",d()):void 0}function y(e){return"variable"==e?B="property":("number"==e||"string"==e)&&(B=e+" property"),V.hasOwnProperty(e)?d(g(":"),b):void 0}function k(e,t){function n(i){return","==i?d(e,n):i==t?d():d(g(t))}return function(i){return i==t?d():s(e,n)}}function R(e){return"}"==e?d():s(f,R)}function I(e){return":"==e?d(D):s()}function D(e){return"variable"==e?(B="variable-3",d()):s()}function O(e,t){return"variable"==e?(c(t),$?d(I,S):d(S)):s()}function S(e,t){return"="==t?d(b,S):","==e?d(O):void 0}function w(e){return"var"==e?d(O,g(";"),_):d(";"==e?_:"variable"==e?A:_)}function A(e,t){return"in"==t?d(b):d(T,_)}function _(e,t){return";"==e?d(K):"in"==t?d(b):d(b,g(";"),K)}function K(e){")"!=e&&d(b)}function x(e,t){return"variable"==e?(c(t),d(x)):"("==e?d(m(")"),u,k(N,")"),h,f,p):void 0}function N(e,t){return"variable"==e?(c(t),$?d(I):d()):void 0}var L,P,B,F,z,M,j=e.indentUnit,H=t.json,$=t.typescript,W=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),o=e("operator"),a={type:"atom",style:"atom"},t={"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a};if($){var r,n={type:"variable",style:"variable-3"},n={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:n,number:n,bool:n,any:n};for(r in n)t[r]=n[r]}return t}(),U=/[+\-*&%=<>!?|]/,V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};L=B=P=null,F=void 0;var q={name:"this",next:{name:"arguments"}};return h.lex=!0,{startState:function(e){return{tokenize:o,lastType:null,cc:[],lexical:new l((e||0)-j,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==z)return n;t.lastType=z;var i;e:{var o=z,a=M,r=t.cc;for(P=t,F=e,B=null,L=r,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((r.length?r.pop():H?b:f)(o,a)){for(;r.length&&r[r.length-1].lex;)r.pop()();if(B){i=B;break e}if(i="variable"==o)t:{for(i=t.localVars;i;i=i.next)if(i.name==a){i=!0;break t}i=void 0}if(i){i="variable-2";break e}i=n;break e}}return i},indent:function(e,t){if(e.tokenize==r)return CodeMirror.Pass;if(e.tokenize!=o)return 0;var n=t&&t.charAt(0),i=e.lexical;"stat"==i.type&&"}"==n&&(i=i.prev);var a=i.type,l=n==a;return"vardef"==a?i.indented+("operator"==e.lastType||","==e.lastType?4:0):"form"==a&&"{"==n?i.indented:"form"==a?i.indented+j:"stat"==a?i.indented+("operator"==e.lastType||","==e.lastType?j:0):"switch"!=i.info||l?i.align?i.column+(l?0:1):i.indented+(l?0:j):i.indented+(/^(?:case|default)\b/.test(t)?j:2*j)},electricChars:":{}",jsonMode:H}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});